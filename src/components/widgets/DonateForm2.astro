---
export interface Props {
  marginTop?: string; // Top margin (e.g., "2rem")
  marginBottom?: string;
  marginLeft?: string;
  marginRight?: string;
  backgroundImage?: string; // URL for the background image
  title?: string; // Title text
  subtitle?: string; // Subtitle text
  backgroundOpacity?: number; // Background image opacity (0 to 1)
  titleColor?: string; // Title text color
  subtitleColor?: string; // Subtitle text color
  titleSize?: string; // Title font size
  subtitleSize?: string; // Subtitle font size
  titleBold?: boolean; // Whether the title is bold
  subtitleBold?: boolean; // Whether the subtitle is bold
}

const {
  marginTop = "2rem", // Default margin top
  marginBottom = "2rem", // Default margin bottom
  marginLeft = "3rem", // Default margin left
  marginRight = "3rem", // Default margin right
  backgroundImage = "https://cdn.pixabay.com/photo/2017/08/10/22/34/candles-2628473_960_720.jpg", // Default background image
  title = "Ignite the Holy Fire", // Default title
  subtitle = "Your support fuels the mission of spreading Christâ€™s light across the world.", // Default subtitle
  backgroundOpacity = 0.7, // Default background opacity
  titleColor = "text-white", // Default title color
  subtitleColor = "text-white", // Default subtitle color
  titleSize = "text-4xl", // Default title size
  subtitleSize = "text-lg", // Default subtitle size
  titleBold = true, // Default title bold
  subtitleBold = false, // Default subtitle bold
} = Astro.props;
---

<!-- Main Container -->
<div
  class="relative flex items-center w-[90%] p-5 bg-cover bg-center mx-auto"
  style={`
    margin-top: ${marginTop};
    margin-bottom: ${marginBottom};
    margin-left: ${marginLeft};
    margin-right: ${marginRight};
    background-image: url(${backgroundImage});
  `}
>
  <!-- Background Overlay for Transparency -->
  <div
    class="absolute inset-0"
    style={`background-color: rgba(0, 0, 0, ${1 - backgroundOpacity});`}
  ></div>

  <!-- Grid Layout for Title/Subtitle and Donation Form -->
  <div class="w-full grid grid-cols-1 lg:grid-cols-3 gap-8 relative z-10">
    <!-- Title and Subtitle (Left Side - 1/3) -->
    <div class="flex items-start justify-start col-span-1 pt-[50%]">
      <div class="max-w-md text-left">
        <h1 class={`${titleSize} ${titleBold ? 'font-bold' : 'font-normal'} ${titleColor} mb-4`}>
          {title}
        </h1>
        <p class={`${subtitleSize} ${subtitleBold ? 'font-bold' : 'font-normal'} ${subtitleColor}`}>
          {subtitle}
        </p>
      </div>
    </div>

    <!-- Donation Form Embed (Right Side - 2/3) -->
    <div class="flex items-start justify-end col-span-2 relative">
      <div id="donor-container-form" class="text-center w-full h-full right-0 max-w-[400px]">
        <iframe
          src="https://donorbox.org/embed/omnesgentesproject?language=en"
          allowpaymentrequest="true"
          seamless="seamless"
          height="820px"
          width="100%"
          style="max-width: 500px; min-width: 250px; max-height: none !important; border: none;"
          allow="payment"
          title="Donation Form"
        ></iframe>
      </div>
    </div>
  </div>
</div>
